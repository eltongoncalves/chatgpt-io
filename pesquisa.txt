BigDecimal valorTransacao = new BigDecimal(request.getValorTransacao().toString());
String dataTransacao = dataPagamento.toLocalDate().toString();

var transacoes = historicoTransacoesResponse.getResponseData()
    .getListaAutorizacoes()
    .stream()
    .filter(autorizacao -> {
        boolean valorIgual = autorizacao.getValorFaturamento().compareTo(valorTransacao) == 0;
        boolean dataIgual = autorizacao.getDtTransacao().toString().equals(dataTransacao);
        LocalTime horaTransacaoAutorizacao = LocalTime.parse(autorizacao.getHrTransacao());
        boolean horaDepois = horaTransacaoAutorizacao.isAfter(horaTransacao);
        boolean horaAntes = horaTransacaoAutorizacao.isBefore(horaTransacaoPlus);

        return valorIgual && dataIgual && horaDepois && horaAntes;
    })
    .toList();
